# 赛事宝数据字典（mysql）

### casinoInfo (国内俱乐部基本信息表)
| 字段名称 | 字段类型 | 字段长度 |是否主键 | 是否为空 | 字段含义 | 字段说明 |
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| csi_id  | int    | 8     | 是   | 否     | ID     |自增   |
| csi_csf_ids| varchar| 100   |       |      | 俱乐部特色 | 对应casinoFeature的id，用｜分割多个特色id    |
| csi_name| varchar| 100   |       | 否     | 俱乐部名称 |     |
| csi_city| varchar| 20   |       | 否     | 所在城市 |     |
| csi_addr| varchar| 200   |       | 否     | 具体地址 |     |
| csi_contactNumber| varchar| 40   ||      | 联系电话|     |
| csi_contactPerson| varchar| 20   | |      | 联系人|     |
| csi_logo| varchar |  255    | |     | 俱乐部logo|图片url地址   |
| csi_intro| text|   |             |      | 俱乐部介绍|     |
| csi_longitude| decimal| (10,7) |      |      |地理位置-经度|  |
| csi_latitude| decimal| (10,7) |      |      |地理位置-纬度|  |
| csi_businessStartTime| time|  |      |      |营业开始时间|  |
| csi_businessEndTime  | time|  |      |      |营业结束时间|  |

### casinoFeature (俱乐部特色)
| 字段名称 | 字段类型 | 字段长度 |是否主键 | 是否为空 | 字段含义 | 字段说明 |
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| csf_id  | int    | 8     | 是   | 否     | ID     |自增   |
| csf_name| varchar| 100   |       | 否     | 特色名称 |     |


### regularMatch (国内俱乐部常规日赛)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| rm_id   | int    | 8     | 是   | 否     | ID     |自增   |
| rm_csi_id | int    | 8     |    | 否     |   |关联casinoInfo.csi_id |
| rm_name   | varchar |  100  |    | 否     | 赛事名称     |  |
| rm_buyin | int  |  8  |       | 否     | 赛事分（buyin） |  |
| rm_time | time|      |        | 否 | 比赛时间          | hh:mm   |
| rm_matchInfo | text|      |    | 否 | 比赛详情         | json   |
| rm_bonusInfo | text|      |    | 否 | 奖金结构        | json   |



### userBindWx(用户绑定微信号表) （暂时只有微信号）
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| ubwx_id   | int    | 8     | 是     | 否     | ID     |自增   |
| ubwx_num | varchar | 100    |     | 否     | 微信号     |   |


### userInfo(用户基本信息表)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| ui_id   | int    | 8     | 是     | 否     | ID     |自增   |
| ui_user | varchar  | 50 |     |      否    | 用户名 |   |
| ui_password | varchar  | 50 |     |   否   | 用户密码 |   |
| ui_realName | varchar  | 20 |     |      | 用户真实姓名 |   |
| ui_rickName | varchar  | 20 |     |      | 用户昵称 |   |
| ui_mobile | varchar  | 30 |     |      | 用户手机号 |   |
| ui_email | varchar  | 255 |     |      | 用户邮箱 |   |
| ui_ubwx_id  | int    | 8     |    |     |     |关联userBindWx |
| ui_idCard | varchar  | 30 |     |      | 身份证号 |   |
| ui_passportId | varchar  | 30 |     |      | 护照号 |   |
| ui_token  | varchar  | 100 |     |      | token |   |
| ui_createTime| datetime  |      | | 否            | 用户注册时间|  |


### regularMatchOrder (国内俱乐部常规日赛订单)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| rmo_id   | int    | 8     | 是   | 否     | ID     |自增   |
| rmo_rm_id  | int    | 8     |    |      |     |关联regularMatch的 rm_id   |
| rmo_ui_id  | int    | 8     |    |      |     |关联userInfo的 ui_id   |
| rmo_realBuyin  | int    | 8  |    |  否    | 真实付款金额（1分＝1元）  |   |
| rmo_havePayed  | boolean    |   |    |  否   | 订单状态  | 1:已经付款， 0:未付款  |
| rmo_payTime  | datetime    |   |    |    | 支付时间 |   |
| rmo_createTime| datetime  |      | | 否            | 订单创建时间|  |
| rmo_updateTime| timestamp  |       | | 否           | 订单修改时间|  |

### regularMatchOrderSerial (国内俱乐部常规日赛订单序列号)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| rmos_id   | int    | 8     | 是   | 否     | ID     |自增   |
| rmos_rm_id  | int    | 8     |    |      |     |关联regularMatchOrder的 rmo_id   |
| rmos_serial   | char    | 16     |    | 否     | 序列号     |比如： 2016070133894444， 前面8位年月日，后面随机   |
| rmos_haveUsed  | boolean    |      |    |      |是否已经使用     |1:已经使用， 0:未使用  |
| rmos_createTime| datetime  |      | | 否            | 序列号生成时间|  |
| rmos_usedTime| datetime  |      | | 否            | 序列号使用时间|  |



### matchType(赛事类型：国际、国内、俱乐部大赛)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| mt_id   | int    | 8     | 是   | 否     | ID     |自增   |
| mt_type | varchar | 20   |   |   否    | 赛事类型 |1:国际;2:国内;3:俱乐部大赛  |


### matchSchedule(赛事表)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| ms_id   | int    | 8     | 是     | 否     | ID     |自增   |
| ms_mt_id| int    | 8      |        |      |    |关联mathType.mt_id |
| ms_remTitle| varchar | 100  |        | 否         | 推荐页title | |
| ms_remImg| varchar | 255 |        | 否          | 推荐页image |图片url地址|
| ms_startDate| date |  |        | 否         | 比赛开始日期 |  |
| ms_endDate| date |  |        | 否         | 比赛结束日期 |   |
| ms_introTitle| varchar | 100  |        | 否         | 简介页title | |
| ms_introImg| blog |  |        | 否      | 简介页image |png格式图片
| ms_introText| blog |  |        | 否                  | 简介页内容 | |
| ms_createTime| datetime  |      | | 否            | 创建时间|  |
| ms_updateTime| timestamp  |       | | 否          | 修改时间|  |



### currencyType(币种)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| ct_id   | int    | 8     | 是     | 否     | ID     |自增   |
| ct_name | varchar | 30   |        | 否       | 货币名称 | |
| ct_code | varchar | 30   |        |        | 货币代码 | |
| ct_exchangeRate| DECIMAL  | (3, 6)  |   |   | 与人民币汇率 | 比如：1美元=`6.6547`人民币元|


### matchScheduleDetail(赛事明细表)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| msd_id   | int    | 8     | 是     | 否     | ID     |自增   |
| msd_ms_id   | int    | 8     |     |     |     |关联matchSchedule.ms_id  |
| msd_ct_id   | int    | 8     |     |     |     |关联currencyType.ct_id  |
| msd_realBuyin | DECIMAL | (7, 3)  |        | 否| realBuyin | |
| msd_rakeBuyin | DECIMAL | (7, 3)  |        | 否| rakeBuyin | |
| msd_totalBuyinToRMB | DECIMAL | (7, 3)  |     | | 转化为人民币的总buyin | |
| msd_mathchDay | date |        |          | 否| 比赛日期 | |
| msd_openTime | date |        |          |否 | 开放时间 | |
| msd_closeTime | date |        |          | 否| 关闭时间 | |
| msd_matchInfo | text|      |    | 否 | 比赛详情         | json   |
| msd_bonusInfo | text|      |    | 否 | 奖金结构        | json   |


### matchScheduleDetailOrder (大赛明细订单)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| msdo_id   | int    | 8     | 是   | 否     | ID     |自增   |
| msdo_msd_id  | int    | 8     |    |      |     |关联matchScheduleDetail的 msdo_id   |
| msdo_ui_id  | int    | 8     |    |      |     |关联userInfo的 ui_id   |
| msdo_realBuyin  | int    | 8  |    |  否    | 真实付款金额（1分＝1元）  |   |
| msdo_havePayed  | boolean    |   |    |  否   | 订单状态  | 1:已经付款， 0:未付款  |
| msdo_payTime  | datetime    |   |    |    | 支付时间 |   |
| msdo_createTime| datetime  |      | | 否            | 订单创建时间|  |
| msdo_updateTime| timestamp  |       | | 否           | 订单修改时间|  |

### matchScheduleDetailOrderSerial (大赛明细订单序列号)
| 字段名称 |字段类型 |字段长度 |是否主键 |是否为空 |字段含义 |字段说明|
| :----   | -----: | -----:| -----:| ------:| -------:|:--: |
| msdos_id   | int    | 8     | 是   | 否     | ID     |自增   |
| msdos_msdo_id  | int    | 8     |    |      |     |关联regularMatchOrder的 rmo_id   |
| msdos_serial   | char    | 16     |    | 否     | 序列号     |比如： 2016070133894444， 前面8位年月日，后面随机   |
| msdos_haveUsed  | boolean    |      |    |      |是否已经使用     |1:已经使用， 0:未使用  |
| msdos_createTime| datetime  |      | | 否            | 序列号生成时间|  |
| msdos_usedTime| datetime  |      | | 否            | 序列号使用时间|  |





### 讨论：
#### 1.是否需要保存微信信息，比如头像、昵称(或者app是否有权限获得)
#### 2.myslq 要安装5.6后的版本，性能对比5.5有大幅度提升
#### 3.用户名 密码 是否程序上需要md5加密，再存入数据库
